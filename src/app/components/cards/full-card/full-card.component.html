<div [ngStyle]="{'width': (width && !deckBuilder) ?? cardWidth}" class="hover:scale-105 transition-transform relative inline-flex" [ngClass]="{'w-full': deckBuilder}">
  <div (click)="showCardDetails()" (contextmenu)="showCardDetails()">
    <img *ngIf="card.version !== 'Normal'" [ngStyle]="{width: '65%'}" [src]="aa.get(this.card.color) ?? 'assets/images/banner/ico_card_detail_multi.png'" alt="AA-Banner" class="aa">

    <img [lazyLoad]="card.cardImage" [ngClass]="{'grayscale': count < collectionMinimum && collectionMode}"
         [ngStyle]="{'border': cardBorder, 'border-radius': cardRadius}"
         alt="{{card.cardNumber + ' ' + card.name}}" class="m-auto" defaultImage="assets/images/digimon-card-back.webp">
  </div>

  <span *ngIf="deckBuilder && countInDeck !== 0" class="absolute z-[100] bottom-1 right-1 text-orange-500 font-black text-3xl px-2 text-shadow-white">
    {{countInDeck}}<span class="text-sky-700 pr-1">/</span>{{card.cardNumber === 'BT6-085' ? 50 : 4}}
  </span>

  <p-inputNumber *ngIf="collectionMode"
    class="card-count" [min]="0" placeholder="0" [(ngModel)]="count" mode="decimal" buttonLayout="vertical" [showButtons]="true" (onInput)="changeCardCount($event, card.id)"
    [style]="{'width': '100%'}"
    [inputStyle]="{'width': '100%', 'text-align': 'center'}"
    decrementButtonClass="p-button-secondary" incrementButtonClass="p-button-secondary" incrementButtonIcon="pi pi-plus" decrementButtonIcon="pi pi-minus"></p-inputNumber>
</div>
